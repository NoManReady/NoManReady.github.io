(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{119:function(t,e,a){"use strict";a.r(e);var s=a(0),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),a("mockjs-demo1"),t._m(8),t._m(9),t._m(10),t._m(11),a("mockjs-edit"),a("mockjs-bigdata")],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"demo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#demo","aria-hidden":"true"}},[this._v("#")]),this._v(" DEMO")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"mockjs-直接调用方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mockjs-直接调用方式","aria-hidden":"true"}},[this._v("#")]),this._v(" Mockjs 直接调用方式")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("import Mock from 'mockjs'\nconst Random = Mock.Random\n// 用户模拟接口数据\nexport const users = Mock.mock({\n  'list|10-15': [\n    {\n      name: '@cname',\n      'age|15-30': 1,\n      sex: Random.pick(['male', 'female']),\n      id: '@id',\n      avatar: Random.dataImage('88x31', Random.region())\n    }\n  ]\n})\n")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"axios-mock-adapter-拦截-axios-请求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#axios-mock-adapter-拦截-axios-请求","aria-hidden":"true"}},[this._v("#")]),this._v(" axios-mock-adapter 拦截 axios 请求")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("import Axios from 'axios'\nimport MockAdapter from 'axios-mock-adapter'\n\nlet mock = new MockAdapter(Axios,{delayResponse:500})\n\nexport default mock\n\nimport mock from './mockPlugin'\nimport * as mockData from './mockData'\nmock.onGet('/users').reply(config => {\n  return [200, mockData.users]\n})\n")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"通过-easy-mock"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#通过-easy-mock","aria-hidden":"true"}},[this._v("#")]),this._v(" 通过 easy-mock")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("\x3c!-- easymock新建项目会生成相应的projectId --\x3e\nconst PROJECTID = '59dec7acc09842759ae666da'\n_easyMock() {\n  fetch(\n    '/users',\n    {},\n    {\n      baseURL: `https://www.easy-mock.com/mock/${PROJECTID}/mock`\n    }\n  ).then(d => {\n    this.users = Object.freeze(d.list)\n  })\n}\n")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("通过在"),e("a",{attrs:{href:"https://www.easy-mock.com/project/59dec7acc09842759ae666da",title:"easy-mock",target:"_blank",rel:"noopener noreferrer"}},[this._v("easy-mock")]),this._v("注册项目，新建 api（mock-template 与 mockjs 一致），然后切换本地请求 host（本例子 host： "),e("a",{attrs:{href:"https://www.easy-mock.com/mock/59dec7acc09842759ae666da/mock/users",title:"host",target:"_blank",rel:"noopener noreferrer"}},[this._v("https://www.easy-mock.com/mock/59dec7acc09842759ae666da/mock")]),this._v("） 进行 mock 环境、其他环境的切换")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"优缺点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#优缺点","aria-hidden":"true"}},[this._v("#")]),this._v(" 优缺点")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("直接调用方式比较灵活，直接截获应用的 ajax 请求，方便各种请求使用,可以配置多个 host 实现一部分走真实接口一部分走 mock 接口")]),e("li",[this._v("通过 axios-mock-adapter 库连接，接管了所有 axios 的请求，一旦使用只要通过 axios 发出的请求都会被截获，实现不了多 host，但是 mock 和其他环境的切换比较方便（开启 axios-mock-adapter？）")]),e("li",[this._v("easymock 接口数据模拟，由于 api 存放在第三方站点界面 UI 好看，团队间更好维护，接口根据 host 进行目标定位，可以实现多 host")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[e("em",[this._v("所以为了项目的多人协作及后续 api 文档的输出，一般选用第三种 mock 方式（easymock)。")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"edit"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#edit","aria-hidden":"true"}},[this._v("#")]),this._v(" Edit")])}],!1,null,null,null);e.default=r.exports}}]);